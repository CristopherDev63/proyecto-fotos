{# Hereda de la plantilla base. #}
{% extends "base.html" %}

{# Define el título de la página. #}
{% block title %}Collage Universitario{% endblock %}

{# Agrega estilos CSS específicos para esta página. #}
{% block styles %}
<style>
    /* Estilos para la galería de imágenes. */
    .galeria {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 15px; /* Espacio entre las imágenes. */
    }

    /* Contenedor de cada imagen. */
    .imagen-contenedor {
        border: 1px solid #ddd; /* Borde simple. */
        border-radius: 5px; /* Bordes redondeados. */
        padding: 10px;
        text-align: center;
    }

    .imagen-contenedor img {
        width: 100%;
        height: 200px;
        object-fit: cover; /* Asegura que la imagen cubra el espacio sin deformarse. */
    }

    /* Mensaje que se muestra si no hay imágenes. */
    .mensaje-vacio {
        text-align: center;
        padding: 40px;
        border: 1px solid #ddd;
        border-radius: 5px;
    }
</style>
{% endblock %}

{# Contenido principal de la página. #}
{% block content %}
    <div class="text-center mb-4">
        <h1>Collage Universitario</h1>
        <p>Total de imágenes: {{ total }}</p>
    </div>

    {# Comprueba si hay imágenes para mostrar. #}
    {% if imagenes %}
        <div class="galeria">
            {# Bucle para recorrer cada imagen en la lista de imágenes. #}
            {% for imagen in imagenes %}
                <div class="imagen-contenedor">
                    <img src="{{ url_for('static', filename='images/' + imagen.filename) }}" alt="{{ imagen.filename }}">
                    <hr>
                    <p><strong>{{ imagen.filename }}</strong></p>
                    <p><small>Subida por: {{ imagen.author.username }}</small></p>
                </div>
            {% endfor %}
        </div>
    {# Si no hay imágenes, muestra un mensaje. #}
    {% else %}
        <div class="mensaje-vacio">
            <h2>No hay imágenes todavía.</h2>
            <p>¡Sé el primero en subir una!</p>
        </div>
    {% endif %}
{% endblock %}

